"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[232],{8672:(i,e,s)=>{s.r(e),s.d(e,{default:()=>$});var a=s(3673),l=s(8880),t=s(2323);const n={class:"row flex-center"},o={class:"col w-80 mxw-30em"},d=(0,a._)("h4",null,"WiFi Connection",-1),r={class:"row"},c={class:"col"},u=(0,a.Uk)("Scan to select from a list of available wifi networks"),p={class:"q-pt-md"},m={class:"row items-center flex-center"},w={class:"col w-80 mxw-30em"},f=(0,a._)("h4",null,"WiFi Access Point ",-1),_={class:"row"},W={class:"col"},h={class:"q-pt-md"},g={class:"text-h6"},v=(0,a.Uk)("Saving changes "),b={class:"row items-center"},S=(0,a._)("div",null,[(0,a._)("div",{class:"text-h6"}," Changes saved successfully. ")],-1),V={class:"row items-center"},k=(0,a._)("div",null,[(0,a._)("div",{class:"text-h6"}," Error saving changes "),(0,a._)("p",null,"There was an error while saving changes")],-1);function q(i,e,s,q,Z,y){const Q=(0,a.up)("q-tab"),A=(0,a.up)("q-tabs"),C=(0,a.up)("q-icon"),F=(0,a.up)("q-item-section"),P=(0,a.up)("q-item-label"),U=(0,a.up)("q-item"),x=(0,a.up)("q-list"),I=(0,a.up)("q-menu"),L=(0,a.up)("tooltip"),D=(0,a.up)("q-btn"),T=(0,a.up)("q-input"),z=(0,a.up)("q-form"),M=(0,a.up)("q-tab-panel"),R=(0,a.up)("q-tab-panels"),j=(0,a.up)("q-card-section"),H=(0,a.up)("q-card"),N=(0,a.up)("q-spinner-oval"),Y=(0,a.up)("q-dialog"),B=(0,a.up)("q-card-actions"),E=(0,a.up)("q-page"),K=(0,a.Q2)("close-popup"),O=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(E,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:i.tab,"onUpdate:modelValue":e[0]||(e[0]=e=>i.tab=e),"inline-label":"","outside-arrows":"","mobile-arrows":"","indicator-color":"primary","active-class":"text-primary",class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{name:"sta",icon:"wifi",label:"WiFi Connection Settings"}),(0,a.Wm)(Q,{name:"ap",icon:"router",label:"WiFi Access Point "})])),_:1},8,["modelValue"]),(0,a.Wm)(R,{modelValue:i.tab,"onUpdate:modelValue":e[6]||(e[6]=e=>i.tab=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{name:"sta"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",o,[(0,a.Wm)(z,{id:"settingsForm"},{default:(0,a.w5)((()=>[d,(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("p",null,[(0,a.Wm)(T,{type:"text",outlined:"",id:"sta_ssid",modelValue:i.wifiSta.wifi_sta_ssid,"onUpdate:modelValue":e[2]||(e[2]=e=>i.wifiSta.wifi_sta_ssid=e),label:"WiFi SSID",placeholder:"WiFi SSID",required:"",hint:"SSID of the WiFi to connect to."},{append:(0,a.w5)((()=>[(0,a.Wm)(D,{icon:"wifi_find",onClick:(0,l.iM)(i.scanDeviceWifi,["stop"]),loading:i.scanningWifi},{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[u])),_:1})])),_:1},8,["onClick","loading"])])),default:(0,a.w5)((()=>[(0,a.Wm)(I,{modelValue:i.showWifiList,"onUpdate:modelValue":e[1]||(e[1]=e=>i.showWifiList=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"mnw-25em",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.wifiList,((i,e)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(U,{key:"wifi-item-"+e,clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(F,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{name:i.secure?"wifi_password":"wifi"},null,8,["name"])])),_:2},1024),(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(i.ssid),1)])),_:2},1024),(0,a.Wm)(P,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Signal strength: "+(0,t.zw)(i.rssi+100+"%"),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(F,{side:""},{default:(0,a.w5)((()=>[i.secure?((0,a.wg)(),(0,a.j4)(C,{key:0,name:"lock"})):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[K],[O]]))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])]),(0,a._)("p",null,[(0,a.Wm)(T,{type:"password",outlined:"",id:"sta_password",modelValue:i.wifiSta.wifi_sta_pass,"onUpdate:modelValue":e[3]||(e[3]=e=>i.wifiSta.wifi_sta_pass=e),label:"WiFi Password",placeholder:"WiFi Password",required:"",hint:" Leave blank if no password is required."},null,8,["modelValue"])]),(0,a._)("p",p,[(0,a.Wm)(D,{onClick:(0,l.iM)(i.saveWifiSta,["stop"]),loading:i.loading,disabled:!i.wifiSta.wifi_sta_ssid||i.loading,color:"primary",label:"Update WiFi Credentials And Reboot"},null,8,["onClick","loading","disabled"])])])])])),_:1})])])])),_:1}),(0,a.Wm)(M,{name:"ap"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",w,[(0,a.Wm)(z,{id:"settingsForm"},{default:(0,a.w5)((()=>[f,(0,a._)("div",_,[(0,a._)("div",W,[(0,a._)("p",null,[(0,a.Wm)(T,{type:"text",outlined:"",id:"ap_ssid",modelValue:i.wifiAp.wifi_ap_ssid,"onUpdate:modelValue":e[4]||(e[4]=e=>i.wifiAp.wifi_ap_ssid=e),label:"WiFi Access Point SSID",placeholder:"WiFi Access Point SSID",required:"",hint:"SSID of the WiFi Access Point."},null,8,["modelValue"])]),(0,a._)("p",null,[(0,a.Wm)(T,{type:"password",outlined:"",id:"ap_password",modelValue:i.wifiAp.wifi_ap_pass,"onUpdate:modelValue":e[5]||(e[5]=e=>i.wifiAp.wifi_ap_pass=e),label:"WiFi Access Point Password",placeholder:"WiFi Access Point Password",required:"",hint:"Leave blank if you want it to be an open network."},null,8,["modelValue"])]),(0,a._)("p",h,[(0,a.Wm)(D,{onClick:(0,l.iM)(i.saveWifiAp,["stop"]),loading:i.loading,disabled:!i.wifiAp.wifi_ap_ssid||i.loading,color:"primary",label:"Save And Reboot"},null,8,["onClick","loading","disabled"])])])])])),_:1})])])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(Y,{modelValue:i.loading,"onUpdate:modelValue":e[7]||(e[7]=e=>i.loading=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{class:"",style:{width:"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a._)("div",g,[(0,a.Wm)(N,{color:"primary",size:"3rem",class:"mr-1"}),v])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Y,{modelValue:i.success,"onUpdate:modelValue":e[8]||(e[8]=e=>i.success=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a._)("div",b,[(0,a.Wm)(C,{color:"positive",size:"3rem",name:"info",class:"col-auto pr-1"}),S])])),_:1}),(0,a.Wm)(B,{align:"right",class:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(D,{flat:"",label:"Close",color:"primary"},null,512),[[K]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Y,{modelValue:i.error,"onUpdate:modelValue":e[9]||(e[9]=e=>i.error=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a._)("div",V,[(0,a.Wm)(C,{color:"negative",size:"3rem",name:"info",class:"col-auto pr-1"}),k])])),_:1}),(0,a.Wm)(B,{align:"right",class:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(D,{flat:"",label:"Close",color:"primary"},null,512),[[K]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}s(9544);var Z=s(741);const y=(0,a.aZ)({name:"PageSettings",data(){return{scanningWifi:!1,showWifiList:!1,wifiList:[],wifiSta:{},wifiAp:{},tab:"sta",loading:!1,error:!1,success:!1,settings:{rtk_svr_name:"",rtk_mntpnt:"",rtk_mntpnt_pw:"",rtk_user:"",rtk_user_pw:"",casterHost:"",casterPort:"2101",ecefX:0,ecefY:0,ecefZ:0,connectNtrip:!1,ntrip_sName:""}}},methods:{...(0,Z.nv)({getSettings:"devices/getSettings",saveSettings:"devices/saveSettings",scanWifi:"devices/scanWifi"}),saveWifiAp(){this.loading=!0,this.saveSettings(this.wifiAp).then((()=>{this.success=!0})).catch((i=>{this.error=!0})).finally((()=>{this.loading=!1}))},saveWifiSta(){this.loading=!0,this.saveSettings(this.wifiSta).then((()=>{this.success=!0})).catch((i=>{this.error=!0})).finally((()=>{this.loading=!1}))},scanDeviceWifi(){this.scanningWifi=!0,this.scanWifi().then((i=>{this.wifiList=i.filter(((i,e)=>i.ssid.length>0)).filter(((i,e,s)=>s.findIndex((e=>e.ssid===i.ssid))===e)),this.scanningWifi=!1,this.showWifiList=!0}))},getWifiRssiColor(i){return"default"}},computed:{...(0,Z.Se)({savedSettings:"devices/settings"})},mounted(){this.wifiSta={wifi_sta_ssid:this.savedSettings.wifi_sta_ssid,wifi_sta_pass:this.savedSettings.wifi_sta_pass},this.wifiAp={wifi_ap_ssid:this.savedSettings.wifi_ap_ssid,wifi_ap_pass:this.savedSettings.wifi_ap_pass}}});var Q=s(4260),A=s(4379),C=s(151),F=s(5589),P=s(7547),U=s(3269),x=s(5906),I=s(6602),L=s(5269),D=s(4689),T=s(811),z=s(7011),M=s(3414),R=s(2035),j=s(4554),H=s(2350),N=s(8240),Y=s(6778),B=s(2548),E=s(9367),K=s(677),O=s(6489),X=s(7518),G=s.n(X);const J=(0,Q.Z)(y,[["render",q]]),$=J;G()(y,"components",{QPage:A.Z,QCard:C.Z,QCardSection:F.Z,QTabs:P.Z,QTab:U.Z,QTabPanels:x.Z,QTabPanel:I.Z,QForm:L.Z,QInput:D.Z,QMenu:T.Z,QList:z.Z,QItem:M.Z,QItemSection:R.Z,QIcon:j.Z,QItemLabel:H.Z,QBtn:N.Z,QDialog:Y.Z,QSpinnerOval:B.Z,QCardActions:E.Z}),G()(y,"directives",{ClosePopup:K.Z,Ripple:O.Z})}}]);