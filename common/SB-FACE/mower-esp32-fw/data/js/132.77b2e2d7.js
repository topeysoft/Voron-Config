"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[132],{132:(e,t,s)=>{s.r(t),s.d(t,{default:()=>me});var l=s(3673);const n={class:"row"},a={class:"col-xl-8 col-md-12 mb-12"},r=(0,l._)("h4",null,"Device Settings",-1),o={class:"row"},i={class:"col-4"},u={class:""},d=(0,l._)("h4",{class:"mb-1"},"GPS Antenna Position Method",-1),m={key:0},c=(0,l._)("h5",{class:""},"GPS Survey-In Options",-1),p={class:"row q-gutter-md"},g={class:"col"},h={class:"col"},_=(0,l._)("div",{class:"col"},null,-1),v={key:1},w=(0,l._)("h5",null,"GPS Antenna Coordinates",-1),f={class:"row q-gutter-md"},S={class:"form-group col"},V=(0,l._)("small",{class:"form-text text-muted"},null,-1),b={class:"form-group col"},y={class:"form-group col"},k=(0,l._)("h4",null,"NTRIP Settings (e.g rtk2go.com, caster.emlid.com, etc)",-1),C={class:"row q-gutter-md q-mb-md"},W={class:"form-group col-md-4"},q={class:"form-group col-md-4"},I={class:"row q-gutter-md q-mb-md"},U={class:"form-group col-md-4"},P={class:"form-group col-md-4"},Z={class:"row q-gutter-md q-mb-md"},E={class:"form-group col-md-4"},N={class:"form-group col-md-4"},x={class:"row q-mb-lg"},H={class:"form-group col-md-4"},Q={class:""},Y=(0,l._)("br",null,null,-1),F=(0,l.Uk)("Save & Reboot "),D=(0,l.Uk)(" Saving changes "),T={class:"text-h6"},A=(0,l.Uk)("Saving changes "),M={class:"row items-center"},O=(0,l._)("div",null,[(0,l._)("div",{class:"text-h6"}," Changes saved successfully. ")],-1),R={class:"row items-center"},X=(0,l._)("div",null,[(0,l._)("div",{class:"text-h6"}," Error saving changes "),(0,l._)("p",null,"There was an error while saving changes")],-1);function z(e,t,s,z,G,J){const j=(0,l.up)("q-input"),B=(0,l.up)("q-toggle"),L=(0,l.up)("q-spinner-oval"),K=(0,l.up)("q-btn"),$=(0,l.up)("q-form"),ee=(0,l.up)("q-card-section"),te=(0,l.up)("q-card"),se=(0,l.up)("q-dialog"),le=(0,l.up)("q-icon"),ne=(0,l.up)("q-card-actions"),ae=(0,l.up)("q-page"),re=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(ae,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ee,{class:"pb-4"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",a,[(0,l.Wm)($,null,{default:(0,l.w5)((()=>[r,(0,l._)("div",o,[(0,l._)("div",i,[(0,l.Wm)(j,{type:"text",outlined:"",id:"hostname",modelValue:e.settings.hostname,"onUpdate:modelValue":t[0]||(t[0]=t=>e.settings.hostname=t),label:"Hostname",placeholder:"Hostname",required:"",hint:"Hostname to be used on the network."},null,8,["modelValue"])])]),(0,l._)("div",u,[d,(0,l.Wm)(B,{modelValue:e.settings.useSurveyIn,"onUpdate:modelValue":t[1]||(t[1]=t=>e.settings.useSurveyIn=t),"checked-icon":"check",color:"green","unchecked-icon":"clear",label:"Use Survey-In"},null,8,["modelValue"])]),e.settings.useSurveyIn?((0,l.wg)(),(0,l.iD)("div",m,[c,(0,l._)("div",p,[(0,l._)("div",g,[(0,l.Wm)(j,{type:"number",step:"0.01",outlined:"",modelValue:e.gpsSvInSeconds,"onUpdate:modelValue":t[2]||(t[2]=t=>e.gpsSvInSeconds=t),label:"Survey-In Duration In Seconds",placeholder:"Survey-In Duration In Seconds",required:"",rules:[e=>e&&e>=0||"You must enter a positive number greater than 0"],hint:"How long GPS must be in survey-in (in seconds)."},null,8,["modelValue","rules"])]),(0,l._)("div",h,[(0,l.Wm)(j,{type:"number",step:"0.01",outlined:"",modelValue:e.settings.gpsSvInAcc,"onUpdate:modelValue":t[3]||(t[3]=t=>e.settings.gpsSvInAcc=t),label:"Survey-In Accuracy In Meters",placeholder:"Survey-In Accuracy In Meters",required:"",rules:[e=>e&&e>=0||"You must enter a positive number greater than 0"],hint:"How accurate (in meters) GPS must be before exiting survey-in mode ."},null,8,["modelValue","rules"])]),_])])):((0,l.wg)(),(0,l.iD)("div",v,[w,(0,l._)("div",f,[(0,l._)("div",S,[(0,l.Wm)(j,{type:"number",step:"0.001",outlined:"",id:"ecefX",modelValue:e.settings.ecefX,"onUpdate:modelValue":t[4]||(t[4]=t=>e.settings.ecefX=t),label:"ECEF X",placeholder:"ECEF X",required:"",rules:[e=>e&&0!==e||"You must enter a non-zero number."],hint:"ECEF X coordinate of the base station in meters."},null,8,["modelValue","rules"]),V]),(0,l._)("div",b,[(0,l.Wm)(j,{outlined:"",type:"number",step:"0.001",id:"ecefY",modelValue:e.settings.ecefY,"onUpdate:modelValue":t[5]||(t[5]=t=>e.settings.ecefY=t),placeholder:"ECEF Y",label:"ECEF Y",required:"",rules:[e=>e&&0!==e||"You must enter a non-zero number."],hint:"ECEF Y coordinate of the base station in meters."},null,8,["modelValue","rules"])]),(0,l._)("div",y,[(0,l.Wm)(j,{type:"number",step:"0.001",outlined:"",id:"ecefZ",modelValue:e.settings.ecefZ,"onUpdate:modelValue":t[6]||(t[6]=t=>e.settings.ecefZ=t),placeholder:"ECEF Z",label:"ECEF Z",required:"",rules:[e=>e&&0!==e||"You must enter a non-zero number."],hint:"ECEF Z coordinate of the base station in meters."},null,8,["modelValue","rules"])])])])),k,(0,l._)("div",C,[(0,l._)("div",W,[(0,l.Wm)(j,{type:"text",outlined:"",id:"casterHost",name:"casterHost",modelValue:e.settings.casterHost,"onUpdate:modelValue":t[7]||(t[7]=t=>e.settings.casterHost=t),placeholder:"Caster Host",label:"Caster Host",required:"",hint:"URL of the Caster server."},null,8,["modelValue"])]),(0,l._)("div",q,[(0,l.Wm)(j,{type:"number",outlined:"",id:"casterPort",name:"casterPort",modelValue:e.settings.casterPort,"onUpdate:modelValue":t[8]||(t[8]=t=>e.settings.casterPort=t),placeholder:"Caster Port",label:"Caster Port",required:"",hint:"Port of the Caster server."},null,8,["modelValue"])])]),(0,l._)("div",I,[(0,l._)("div",U,[(0,l.Wm)(j,{type:"text",outlined:"",id:"rtk_mntpnt",name:"rtk_mntpnt",modelValue:e.settings.rtk_mntpnt,"onUpdate:modelValue":t[9]||(t[9]=t=>e.settings.rtk_mntpnt=t),placeholder:"Caster mountpoint",label:"Caster mountpoint",required:"",hint:"Caster Mount point."},null,8,["modelValue"])]),(0,l._)("div",P,[(0,l.Wm)(j,{type:"password",outlined:"",id:"rtk_mntpnt_pw",name:"rtk_mntpnt_pw",modelValue:e.settings.rtk_mntpnt_pw,"onUpdate:modelValue":t[10]||(t[10]=t=>e.settings.rtk_mntpnt_pw=t),placeholder:"Caster mount password",label:"Caster mount password",required:"",hint:"Caster mount point password."},null,8,["modelValue"])])]),(0,l._)("div",Z,[(0,l._)("div",E,[(0,l.Wm)(j,{type:"text",outlined:"",id:"rtk_user",name:"rtk_user",modelValue:e.settings.rtk_user,"onUpdate:modelValue":t[11]||(t[11]=t=>e.settings.rtk_user=t),placeholder:"Caster username",label:"Caster username",required:"",hint:"Caster username."},null,8,["modelValue"])]),(0,l._)("div",N,[(0,l.Wm)(j,{type:"password",outlined:"",id:"rtk_user_pw",name:"rtk_user_pw",modelValue:e.settings.rtk_user_pw,"onUpdate:modelValue":t[12]||(t[12]=t=>e.settings.rtk_user_pw=t),placeholder:"Caster user password",label:"Caster user password",required:"",hint:"Caster user password."},null,8,["modelValue"])])]),(0,l._)("div",x,[(0,l._)("div",H,[(0,l.Wm)(j,{type:"text",outlined:"",id:"ntrip_sName",name:"ntrip_sName",modelValue:e.settings.ntrip_sName,"onUpdate:modelValue":t[13]||(t[13]=t=>e.settings.ntrip_sName=t),placeholder:"NTRIP server name",label:"NTRIP server name",required:"",hint:"NTRIP server name."},null,8,["modelValue"])])]),(0,l._)("div",Q,[(0,l.Wm)(B,{modelValue:e.settings.connectNtrip,"onUpdate:modelValue":t[14]||(t[14]=t=>e.settings.connectNtrip=t),"checked-icon":"check",color:"green","unchecked-icon":"clear",label:"Connect to NTRIP Server"},null,8,["modelValue"])]),Y,(0,l.Wm)(K,{outline:!e.isDirty,color:"primary",onClick:e.saveSettingNow,loading:e.loading,disable:e.loading||!e.isDirty,class:"mnw-15em"},{loading:(0,l.w5)((()=>[(0,l.Wm)(L,{class:"mr-1"}),D])),default:(0,l.w5)((()=>[F])),_:1},8,["outline","onClick","loading","disable"])])),_:1})])])])),_:1})])),_:1}),(0,l.Wm)(se,{modelValue:e.loading,"onUpdate:modelValue":t[15]||(t[15]=t=>e.loading=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{class:"",style:{width:"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(ee,null,{default:(0,l.w5)((()=>[(0,l._)("div",T,[(0,l.Wm)(L,{color:"primary",size:"3rem",class:"mr-1"}),A])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(se,{modelValue:e.success,"onUpdate:modelValue":t[16]||(t[16]=t=>e.success=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(ee,null,{default:(0,l.w5)((()=>[(0,l._)("div",M,[(0,l.Wm)(le,{color:"positive",size:"3rem",name:"info",class:"col-auto pr-1"}),O])])),_:1}),(0,l.Wm)(ne,{align:"right",class:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(K,{flat:"",label:"Close",color:"primary"},null,512),[[re]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(se,{modelValue:e.error,"onUpdate:modelValue":t[17]||(t[17]=t=>e.error=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(ee,null,{default:(0,l.w5)((()=>[(0,l._)("div",R,[(0,l.Wm)(le,{color:"negative",size:"3rem",name:"info",class:"col-auto pr-1"}),X])])),_:1}),(0,l.Wm)(ne,{align:"right",class:""},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(K,{flat:"",label:"Close",color:"primary"},null,512),[[re]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}s(9544);var G=s(741);const J=(0,l.aZ)({name:"PageSettings",data(){return{loading:!1,error:!1,success:!1,settings:{hostname:"",rtk_svr_name:"",rtk_mntpnt:"",rtk_mntpnt_pw:"",rtk_user:"",rtk_user_pw:"",casterHost:"",casterPort:"2101",ecefX:0,ecefY:0,ecefZ:0,useSurveyIn:!1,connectNtrip:!1,ntrip_sName:"",gpsSvInAcc:0,gpsSvInMsec:0},originalSettings:{}}},methods:{...(0,G.nv)({saveSettings:"devices/saveSettings"}),saveSettingNow(){this.loading=!0,this.saveSettings(this.settings).then((()=>{this.success=!0})).catch((e=>{this.error=!0})).finally((()=>{this.loading=!1}))}},computed:{...(0,G.Se)({savedSettings:"devices/settings"}),gpsSvInSeconds:{get(){return this.settings.gpsSvInMsec/1e3},set(e){this.settings.gpsSvInMsec=1e3*e}},isDirty:{get(){return JSON.stringify(this.settings)!==JSON.stringify(this.originalSettings)},set(e){}}},mounted(){Object.keys(this.settings).forEach((e=>{this.settings[e]=this.savedSettings[e]})),this.settings.useSurveyIn=this.savedSettings.useSurveyIn||!1,this.originalSettings=JSON.parse(JSON.stringify(this.settings))}});var j=s(4260),B=s(4379),L=s(151),K=s(5589),$=s(5269),ee=s(4689),te=s(8886),se=s(8240),le=s(2548),ne=s(6778),ae=s(4554),re=s(9367),oe=s(677),ie=s(7518),ue=s.n(ie);const de=(0,j.Z)(J,[["render",z]]),me=de;ue()(J,"components",{QPage:B.Z,QCard:L.Z,QCardSection:K.Z,QForm:$.Z,QInput:ee.Z,QToggle:te.Z,QBtn:se.Z,QSpinnerOval:le.Z,QDialog:ne.Z,QIcon:ae.Z,QCardActions:re.Z}),ue()(J,"directives",{ClosePopup:oe.Z})}}]);